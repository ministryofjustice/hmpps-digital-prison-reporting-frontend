{% extends "./base.njk" %}

{%- from "node_modules/@ministryofjustice/frontend/moj/components/side-navigation/macro.njk" import mojSideNavigation %}

{% block content %}
  <div class="govuk-width-container govuk-grid-row app-flex-container">
    <div class="govuk-grid-column-one-quarter">
      {{ mojSideNavigation({
        classes: 'govuk-!-padding-top-6',
        sections: [
          {
            heading: {
              text: "How to guides"
            },
            items: [
              {
                text: 'Integrating the library',
                href: ('/integration-guides/integrating-the-library')
              },
              {
                text: 'Integrating the platform',
                href: ('/integration-guides/integrating-the-platform')
              },
              {
                text: 'Integrating the FE',
                href: ('/integration-guides/integrating-the-fe')
              }
            ]
          },
          {
            heading: {
              text: "Platform"
            },
            items: [
              {
                text: 'Components',
                href: ('/components')
              },
              {
                text: 'Environments',
                href: ('/get-started/environments')
              },
              {
                text: 'Routes',
                href: ('/reports/async-routes'),
                active: page.filePathStem.indexOf('/reports/async-routes') === 0
              }
            ]
          },
          {
            heading: {
              text: "Example Reports"
            },
            items: [ 
              {
                text: 'List',
                href: '/templates/list-template',
                active: page.filePathStem.indexOf('/templates/list-template') === 0
              },
              {
                text: 'Parent-child',
                href: '/templates/parent-child',
                active: page.filePathStem.indexOf('/templates/parent-child') === 0
              },
              {
                text: 'list-section',
                href: '/templates/list-section',
                active: page.filePathStem.indexOf('/templates/list-section') === 0
              }
            ]
          }
        ]
      }) }}
    </div>

    <div class="govuk-grid-column-three-quarters">
      <main id="main-content" class="govuk-main-wrapper app-prose-scope" role="main">
        <h1 class="govuk-heading-xl">
          {% if subsection %}<span class="govuk-caption-xl">{{ subsection }}</span>{% endif %}
          {{ title }}
        </h1>
        {{ content | safe }}
      </main>
    </div>
  </div>
{% endblock %}
