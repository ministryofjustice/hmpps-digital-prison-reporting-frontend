{% macro dprAsyncRequestDetails(reportData) %}
  {% set reportName = reportData.reportName %}
  {% set variantName = reportData.variantName %}
  {% set description = reportData.description %}
  {% set htmlContent = reportData.htmlContent %}
  {% set querySummary = reportData.querySummary %}
  {% set reportId = reportData.reportId %}
  {% set variantId = reportData.variantId %}
  {% set executionId = reportData.executionId %}
  {% set classification = reportData.classification %}
  {% set requestedTimestamp = reportData.requestedTimestamp %}

  {% set filtersHtml %}
  {% if querySummary %}
    <ul>
      {% for query in querySummary %}
        <li class="govuk-body govuk-!-margin-bottom-1">{{ query.name }}: {{ query.value }}</li>
      {% endfor %}
    </ul>
  {% endif %}
  {% endset %}

  <div class="dpr-request-details">

    <table class="dpr-request-details__table">
      <tbody>
        {% if variantName %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Report Name:</p>
            </td>
            <td>
              <h1 class="govuk-heading-s govuk-!-margin-bottom-1">{{ variantName }}</h1>
            </td>
          </tr>
        {% endif %}
        {% if reportName %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Product:</p>
            </td>
            <td>
              <h1 class="govuk-heading-s govuk-!-margin-bottom-1">{{ reportName }}</h1>
            </td>
          </tr>
        {% endif %}
        {% if description %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Description:</p>
            </td>
            <td>
              <p class="govuk-body-m govuk-!-margin-bottom-1">{{ description }}</p>
            </td>
          </tr>
        {% endif %}
        {% if classification %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Classification:</p>
            </td>
            <td>
              <p class="govuk-body-m">{{ classification }}</p>
            </td>
          </tr>
        {% endif %}
        {% if requestedTimestamp %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Requested at:</p>
            </td>
            <td>
              <p class="govuk-body-m govuk-!-margin-bottom-2">{{ requestedTimestamp }}</p>
            </td>
          </tr>
        {% endif %}
        {% if querySummary %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Applied Filters:</p>
            </td>
            <td>
              {{ filtersHtml | safe }}
            </td>
          </tr>
        {% endif %}
        {% if reportId %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Report ID:</p>
            </td>
            <td>
              <p class="govuk-body-m govuk-!-margin-bottom-1">{{ reportId }}</p>
            </td>
          </tr>
        {% endif %}

        {% if variantId %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Variant ID:</p>
            </td>
            <td>
              <p class="govuk-body-m govuk-!-margin-bottom-1">{{ variantId }}</p>
            </td>
          </tr>
        {% endif %}

        {% if executionId %}
          <tr>
            <td class="dpr-request-details__table-heading">
              <p class="govuk-body-m dpr-request-details__table-heading_name">Execution ID:</p>
            </td>
            <td>
              <p class="govuk-body-m govuk-!-margin-bottom-1">{{ executionId }}</p>
            </td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
{% endmacro %}
