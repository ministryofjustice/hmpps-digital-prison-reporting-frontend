{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% macro dprColumns(columns) %}
  {% set items = columns.options %}
  {% set name = columns.name %}
  {% set text = columns.text %}
  {% set values = columns.value %}

  <form data-dpr-module="columns" class="dpr-columns-form">
    <div class="columns-container">
      {{ govukCheckboxes({
          id: name,
          name: name,
          classes: "govuk-checkboxes--small",
          formGroup: {
            classes: "govuk-!-margin-bottom-3"
          },
          fieldset: {
            legend: {
              text: text,
              classes: "govuk-label govuk-!-font-weight-bold"
            }
          },
          items: items,
          values: values
        }) }}
    </div>

    <div class="column-actions">
      {{ govukButton({
        text: "Apply Columns",
        classes: "govuk-button govuk-!-margin-bottom-0 async-apply-columns-button"
      }) }}

      {{ govukButton({
        text: "Reset Columns",
        classes: "govuk-button--secondary govuk-!-margin-bottom-0 async-reset-columns-button"
      }) }}
    </div>
  </form>
{% endmacro %}
