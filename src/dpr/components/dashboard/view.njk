{% from "../chart-card/view.njk" import dprChartCard %}
{% from "../report-heading/view.njk" import dprReportHeading %}
{% from "../dashboard-sidebar/view.njk" import dprDashboardSidebar %}
{%- from "moj/components/side-navigation/macro.njk" import mojSideNavigation -%}
{% from "../filters-section/view.njk" import dprFiltersSection %}


{% macro dprDashboard(data) %}
<div class="dashboard-wrapper">
  <nav class="dashboard-sidebar">
    {{ dprDashboardSidebar(data.metrics) }}
  </nav> 
  <div class="dashboard-content">
    {{ dprReportHeading(data) }}

    {{ dprFiltersSection({ filters: data.filters }) }}
    
    {% for metric in data.metrics %}
      <hr class="metric-break">
      <div>
        {{ dprChartCard(metric) }}
      </div>
    {% endfor %}
  </div>
</div>
{% endmacro %}
