{% from "../chart-card/view.njk" import dprChartCard %}
{% from "../report-heading/view.njk" import dprReportHeading %}
{% from "../dashboard-sidebar/view.njk" import dprDashboardSidebar %}
{%- from "moj/components/side-navigation/macro.njk" import mojSideNavigation -%}
{% from "../filters-section/view.njk" import dprFiltersSection %}


{% macro dprDashboard(data) %}
<div class="dashboard-wrapper">
  <nav class="dashboard-sidebar">
    {{ dprDashboardSidebar(data.metrics) }}
  </nav> 
  <div class="dashboard-content">
    {{ dprReportHeading(data) }}

    {% set mockFilters = [{
      text:"Establishment ID",
      name:"establishmentId",
      type:"Select",
      options:[
        {
          value:"no-filter",
          text:"Select your option",
          disabled:true, 
          selected:true 
        },
        {
          value:"MDI",
          text:"MDI"
        },
        {
          value:"SLI",
          text:"SLI"
        },
        {
          value:"LTI",
          text:"LTI"
        },
        {
          value:"DAI",
          text:"DAI"
        }],
        value:null, 
        minimumLength:null, 
        dynamicResourceEndpoint:null, 
        mandatory:true
      }
    ]%}

    {{ dprFiltersSection({
      filters: mockFilters}) }}
    
    {% for metric in data.metrics %}
      <hr class="metric-break">
      <div>
        {{ dprChartCard(metric) }}
      </div>
    {% endfor %}
  </div>
</div>
{% endmacro %}
