{% extends layoutPath %}

{% from "./form.njk" import dprRequestMissingReportForm %}
{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "../../../../components/_async/request-details/view.njk" import dprRequestDetails %}

{% set mainClasses = "app-container govuk-body" %}

{% block content %}
  <h1 class="govuk-heading-xl">{{ title }}</h1>

  <p class="govuk-body-l">We're constantly updating our reports. To request that this one be added, please fill out the form below.</p>

  {% set detailsHtml %}
    {{ dprRequestDetails(report) }}
  {% endset %}
  {{ govukDetails({
    summaryText: 'Report details',
    html: detailsHtml
  }) }}

  <h2>Request this report<h2>

  {{ dprRequestMissingReportForm(user, report, csrfToken, postEndpoint) }}
{% endblock %}
